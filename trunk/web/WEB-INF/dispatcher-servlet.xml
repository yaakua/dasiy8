<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xmlns:p="http://www.springframework.org/schema/p"
       xmlns:aop="http://www.springframework.org/schema/aop"
       xmlns:tx="http://www.springframework.org/schema/tx"
       xsi:schemaLocation="http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-2.5.xsd
       http://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop-2.5.xsd
http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx-2.5.xsd">
    <bean id="viewResolver"
          class="org.springframework.web.servlet.view.InternalResourceViewResolver">
        <property name="prefix" value="/WEB-INF/jsp/"/>
        <property name="suffix" value=".jsp"/>
    </bean>

    <!--配置一个控制器对应多个请求方法-->
    <bean id="paramResolver"
          class="org.springframework.web.servlet.mvc.multiaction.ParameterMethodNameResolver">
        <property name="paramName" value="method"/>
        <property name="defaultMethodName" value="index"/>
    </bean>
    <bean id="multiActionController" class="org.springframework.web.servlet.mvc.multiaction.MultiActionController">
        <property name="methodNameResolver" ref="paramResolver"/>
    </bean>

    <!--<bean name="/index.htm" class="org.springframework.web.servlet.mvc.ParameterizableViewController" p:viewName="index"/>-->
    <bean id="propertyConfig" class="org.springframework.beans.factory.config.PropertyPlaceholderConfigurer"
          lazy-init="false">
        <property name="location">
            <value>classpath:ApplicationResources_zh_CN.properties</value>
        </property>
    </bean>
    <!--验证码请求路径-->
    <bean name="/comm/checkcode.htm"  class="com.chii.util.web.CheckNumCtrl"/>
    <!--为避免同一页面多个验证码请求，可在此配置多个不同的验证码-->
    <bean name="/other/checkcode.htm"  class="com.chii.util.web.CheckNumCtrl">
        <property name="sessionKey" value="other"/>
     </bean>
     <!-- 文件上传 -->
    <bean id="multipartResolver"
          class="org.springframework.web.multipart.commons.CommonsMultipartResolver">
        <!-- 设置上传文件的最大尺寸为10MB -->
        <property name="maxUploadSize" value="10485760">
        </property>
    </bean>

    <import resource="dispatcherXML/yk-dpServlet.xml"/>
    <import resource="dispatcherXML/yk-valang.xml"/>
</beans>
